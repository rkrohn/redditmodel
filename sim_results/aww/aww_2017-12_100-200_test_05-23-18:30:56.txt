time python3 gen_cascade_model.py -s aww -o sim_results/aww/aww_2017-12_100-200_test_05-23-18:30:56 -topn 20 -y 2017 -m 12 -min 100 -max 200 -j -a --topo_err -v -d -nco 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 25 30 35 40 45 50 55 60 65 70 75 80 85 90 95 100 110 120 130 140 150 175

Namespace(estimate_initial_params=False, graph_downsample_ratio=None, include_default_posts=True, large_cascade_demarcation=None, max_nodes=False, max_size='200', min_node_quality=False, min_size='100', normalize_parameters=None, num_comments_observed=['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '25', '30', '35', '40', '45', '50', '55', '60', '65', '70', '75', '80', '85', '90', '95', '100', '110', '120', '130', '140', '150', '175'], outfile='sim_results/aww/aww_2017-12_100-200_test_05-23-18:30:56', preprocess=False, remove_stopwords=False, sanity_check=False, sim_post='all', subreddit='aww', testing_len=1, testing_start_month='12', testing_start_year='2017', testing_stats=False, time_error_absolute=False, time_error_margin=False, time_observed=False, top_n='20', topological_error=True, training_len=1, training_stats=False, verbose=True, weight_method='jaccard', weight_threshold=False)

Sim Post: all
Comments Observed: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100, 110, 120, 130, 140, 150, 175]
Output: sim_results/aww/aww_2017-12_100-200_test_05-23-18:30:56
Source subreddit: aww
Minimum node quality: False
Max graph size: False
Max edges per node: 20
Minimum edge weight: None
No param normalization for infer step
Testing Period: 12-2017 (1 month)
Training Period: 11-2017 (1 month)
Using Jaccard index to compute graph edge weights
Including posts with hardcoded default parameters
Using topological error for tree evaluation (ignoring comment times)
Only simulating cascades with true size between 100 and 200 comments (inclusive)

Loading processed training data
Loading 11-2017
Deleted 1 posts without cascades
Deleted 3 posts without params
Loaded 31655 posts 
   31658 cascades
   7124 fitted params, 24531 failed fit

Loading processed testing data
Loading 12-2017
Loaded 35332 posts 
   35332 cascades

Filtered to 358 posts with >= 100 comments
Filtered to 159 posts with <= 200 comments
Processing all 159 posts in test set
Loading base graph from file
Graph contains 31439 nodes and 489805 unique edges (618248 edge entries)

Skipping 0 already simulated posts
Processing 159 posts
   finished 100 posts (0 disconnected)
Traceback (most recent call last):
  File "gen_cascade_model.py", line 109, in <module>
    inferred_params, disconnected, new_edges = functions_gen_cascade_model.graph_infer(sim_post, sim_post_id, weight_method, weight_threshold, base_graph, graph_post_ids, train_posts, train_cascades, train_params, train_fit_fail_list, top_n, estimate_initial_params, normalize_parameters, filename_id, display= not batch)
  File "/data/rkrohn/redditmodel/functions_gen_cascade_model.py", line 1277, in graph_infer
    out = subprocess.check_output(["./c_node2vec/examples/node2vec/node2vec", "-i:"+(temp_graph_filepath % filename_id), "-ie:"+(temp_params_filepath % filename_id), "-o:"+(output_params_filepath % filename_id), "-d:6", "-l:3", "-w", "-s", "-otf"])
  File "/usr/lib/python3.6/subprocess.py", line 336, in check_output
    **kwargs).stdout
  File "/usr/lib/python3.6/subprocess.py", line 403, in run
    with Popen(*popenargs, **kwargs) as process:
  File "/usr/lib/python3.6/subprocess.py", line 709, in __init__
    restore_signals, start_new_session)
  File "/usr/lib/python3.6/subprocess.py", line 1275, in _execute_child
    restore_signals, start_new_session, preexec_fn)
OSError: [Errno 12] Cannot allocate memory
Error in sys.excepthook:
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/apport_python_hook.py", line 63, in apport_excepthook
    from apport.fileutils import likely_packaged, get_recent_crashes
  File "/usr/lib/python3/dist-packages/apport/__init__.py", line 5, in <module>
    from apport.report import Report
  File "/usr/lib/python3/dist-packages/apport/report.py", line 30, in <module>
    import apport.fileutils
  File "/usr/lib/python3/dist-packages/apport/fileutils.py", line 23, in <module>
    from apport.packaging_impl import impl as packaging
  File "/usr/lib/python3/dist-packages/apport/packaging_impl.py", line 24, in <module>
    import apt
  File "/usr/lib/python3/dist-packages/apt/__init__.py", line 23, in <module>
    import apt_pkg
ImportError: /usr/lib/python3/dist-packages/apt_pkg.cpython-36m-x86_64-linux-gnu.so: failed to map segment from shared object

Original exception was:
Traceback (most recent call last):
  File "gen_cascade_model.py", line 109, in <module>
    inferred_params, disconnected, new_edges = functions_gen_cascade_model.graph_infer(sim_post, sim_post_id, weight_method, weight_threshold, base_graph, graph_post_ids, train_posts, train_cascades, train_params, train_fit_fail_list, top_n, estimate_initial_params, normalize_parameters, filename_id, display= not batch)
  File "/data/rkrohn/redditmodel/functions_gen_cascade_model.py", line 1277, in graph_infer
    out = subprocess.check_output(["./c_node2vec/examples/node2vec/node2vec", "-i:"+(temp_graph_filepath % filename_id), "-ie:"+(temp_params_filepath % filename_id), "-o:"+(output_params_filepath % filename_id), "-d:6", "-l:3", "-w", "-s", "-otf"])
  File "/usr/lib/python3.6/subprocess.py", line 336, in check_output
    **kwargs).stdout
  File "/usr/lib/python3.6/subprocess.py", line 403, in run
    with Popen(*popenargs, **kwargs) as process:
  File "/usr/lib/python3.6/subprocess.py", line 709, in __init__
    restore_signals, start_new_session)
  File "/usr/lib/python3.6/subprocess.py", line 1275, in _execute_child
    restore_signals, start_new_session, preexec_fn)
OSError: [Errno 12] Cannot allocate memory
Command exited with non-zero status 1
5368.89user 37.33system 1:29:33elapsed 100%CPU (0avgtext+0avgdata 460152maxresident)k
4404440inputs+3118944outputs (24277major+9558437minor)pagefaults 0swaps
